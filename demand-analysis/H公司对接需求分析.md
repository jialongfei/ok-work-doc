

# 合作企业接入的需求梳理

> 以下简称该合作企业为H公司

#### 1.H公司用户需在我司OK直付项目注册，且我司需要标识该用户在H公司用户系统中的用户编号

#### 2.H公司用户在我司OK钱包注册时，注册和登录页面LOGO换成H公司的指定LOGO

	方案：
	H公司将用户重定向或跳转到我司的用户注册页面，在我们的登录链接中添加指定参数，如：okchexian.com/pages/login/login?h_u=xxx (请注意，该链接是举例说明，不是最终链接！)
	参数说明：h_u 是当前注册用户在H公司的用户编号 (请注意，该参数是举例说明，参数名双方可根据具体情况指定！)

#### 3.H公司指定账户向我司充值后，可调用我司特定接口将该账户余额按需分配给指定用户，每笔分配金额不得高于H公司当前账户中的余额

	流程：
		step1.H公司在我司钱包项目按正常流程完成充值
		step2.H公司请求我司提供的专用接口，携带指定的参数，务必要确保参数的准确性
		该接口所需参数大致如下：
			{
				h_c:xxxxxx // h_code 我们为H公司生成的独立的编号
				h_u:xxxxxx // h_user_code 目标用户在H公司的用户编号
				h_a:xxxxxx // amount 金额
			}
		返回值大致如下：
			{
				res_code:xxxx // 请求结果：'OH0000'表示处理成功，否则是错误代码，为保护双方公司利益，防止其他用户恶意攻击，这里不会直接展示错误信息，只返回错误代码，具体错误原因H公司根据错误代码在我们提供的错误信息对照文档上搜索即可
				order_id:xxxx // 订单编号：只有请求成功才会返回订单编号，失败时返回null或''
			}